<!DOCTYPE HTML>

<html>
	<head>
		<title>Subscribe you big dummy!</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<link rel="stylesheet" href="styles.css" />
	</head>
	
	<body>
	
		<div class="hero">
			<h3>Coming Soon!</h3>
			<h1>Our Brand New Website<br/> Is on it's way</h1>
			<p>Subscribe for more details.</p>
			
			<form name="submit-to-google-sheet">
				<input type="email" name="Email" placeholder="Your Email Address" required>
				<input type="text" name="firstName" placeholder="Your First Name">
				<input type="text" name="lastName" placeholder="Your Last Name">
				
				<button type="submit"><img src="images/send-icon.png" width="30px"></button>
			</form>
			
			<span id="msg"></span>
		</div>
		
		<script>
		  const scriptURL = 'https://script.google.com/macros/s/AKfycbxtLt_eIrto35lDFaMutV9ZKVUmZdmsWgpy0t5qtrNZn2snSItxbNn7XdxoWzp-LGATNg/exec'
		  const form = document.forms['submit-to-google-sheet']
		  const msg = document.getElementById("msg")

		  form.addEventListener('submit', e => {
			e.preventDefault()
			fetch(scriptURL, { method: 'POST', body: new FormData(form)})
			  .then(response => {
				msg.innerHTML = "Thank You for Subscribing!"
				
				setTimeout(function(){
					msg.innerHTML = ""
				},5000)
				form.reset()
			  })
			  .catch(error => console.error('Error!', error.message))
		  })
		</script>
		
	</body>

</html>